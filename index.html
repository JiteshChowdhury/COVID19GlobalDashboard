<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale= 1.0">
        <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="style/styleGrid.css">
        <link rel="stylesheet" href="style/style.css">
        <link rel="stylesheet" href="style/chosen.css">
        <link rel="stylesheet" href="style/starRating.css">

        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

        <!-- Begin Inspectlet Asynchronous Code -->
        <script type="text/javascript">
            (function() {
            window.__insp = window.__insp || [];
            __insp.push(['wid', 1802741107]);
            var ldinsp = function(){
            if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js?wid=1802741107&r=' + Math.floor(new Date().getTime()/3600000); var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
            setTimeout(ldinsp, 0);
            })();
        </script>
        <!-- End Inspectlet Asynchronous Code -->

        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

        <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-core.min.js" type="text/javascript"></script>
        <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-map.min.js" type="text/javascript"></script>
        <script src="https://cdn.anychart.com/releases/8.7.1/geodata/custom/world/world.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js" type="text/javascript"></script>
        <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-data-adapter.min.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

        <script src="js/chosen.jquery.js"></script>

        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">

        <style>#slider { margin: 10px; }	</style>
        <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script src="https://raw.githubusercontent.com/furf/jquery-ui-touch-punch/master/jquery.ui.touch-punch.min.js"></script>
        

        <script type="module" src="./js/loadData.js"></script>
        <script type="module" src="./js/worldMap.js"></script>
        <script type="module" src="./js/countryChart.js"></script>
        <!-- <script type="text/javascript" src="newsDataLocal.json"></script> -->
        <script type="module" src="./js/countryNews.js"></script>
        <script type="module" src="./js/dataGrid.js"></script>
        <script type="module" src="./js/dataGridGlobal.js"></script>

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171428301-1"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-171428301-1');
        </script>


        <title>COVID-19 Global</title>
    </head>
    <body>
        <div class="grid">
            <div class="title">COVID-19 Global</div>
            <div class="ratting">
                <div class="stars">
                    <form action="" name="submit-to-google-sheet" id="star-ratting">
                            <button type="submit" style="margin-top: 8px; margin-left: 10px;">Submit</button>
                            <input class="star star-5" id="star-5" type="radio" name="rating" value="5" required/>
                            <label class="star star-5" for="star-5"></label>
                            <input class="star star-4" id="star-4" type="radio" name="rating" value="4" required/>
                            <label class="star star-4" for="star-4"></label>
                            <input class="star star-3" id="star-3" type="radio" name="rating" value="3" required/>
                            <label class="star star-3" for="star-3"></label>
                            <input class="star star-2" id="star-2" type="radio" name="rating" value="2" required/>
                            <label class="star star-2" for="star-2"></label>
                            <input class="star star-1" id="star-1" type="radio" name="rating" value="1" required/>
                            <label class="star star-1" for="star-1"></label>
                    </form>
                    <label for="star-ratting"style="font-family: 'oswald', sans-serif; float:right; font-size:18px;">Help us gauge!</label>
                  </div>
            </div>
            <div class='dataGlobal'>
                <div class="globalConfirmed" id="globalConfirmed"></div>
                <div class="globalRecovered" id="globalRecovered"></div>
                <div class="globalDeceased" id="globalDeceased"></div>
            </div>
            <div class="radioSelect">

                <input type="radio" id="active" name="status" value="Active" checked>
                <label for="active">Active</label>

                <input type="radio" id="confirmed" name="status" value="Confirmed">
                <label for="confirmed">Confirmed </label>
                
                <input type="radio" id="recovered" name="status" value="Recovered">
                <label for="recovered">Recovered </label>
                
                <input type="radio" id="death" name="status" value="Death">
                <label for="death">Deceased </label>

            </div>
            <div class="map">
                <div id="container"></div>
            </div>
            <div class="dateScroll">
                <div id="sliderDisplay"></div>
                <div style="text-align: center;">Slide/Tap for date wise progression</div>
                <div id="slider"></div>
            </div>
            <div class="selection" id="dropDownChosen"><span class="countryWise">Cases & News - Country wise:</span>
                <br>
                <select name="country" data-placeholder="Choose a state..." class="chosen"></select>
            </div>
            <div class="country"></div>
            <div class="data">
                <div class="Active" id="active"></div>
                <div class="Confirmed" id="confirmed"></div>
                <div class="Recovered" id="recovered"></div>
                <div class="Deceased" id="deceased"></div>
            </div>
            <div class="chartTitle">Timeline Chart:</div>
            <div class="chart">
                <canvas id="casesChartCountry"></canvas>
            </div>
            <div class="newsTitle">
                News:
            </div>
            <div class="news" id="newsList">
                </br>
                <ul></ul>
            </div>
            <div class="footer">
                <span style="font-size: larger; font-weight: bold;">Creators : </span><a href="https://www.linkedin.com/in/jiteshalbus/" target="_blank">Jitesh Chowdhury (National Institute of Design, Bangalore, India)</a> & <a href="https://www.linkedin.com/in/utkarsh-kumar-522b48118/" target="_blank">Utkarsh Kumar (Indian Institute of Management, Ahmedabad, India)</a>
            </br>
            </br>
                <span style="font-size: larger; font-weight: bold;"><a href="https://drive.google.com/file/d/1VYhlXifRls4nGB7z6ygSeX3X7vJYMkJq/view" target="_blank">Project Documentation</a></span>
            </div>
    </body>
    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbya-e1POAiiXYUGwUsUw-YEC6Z96FMHLzfD_dmUq4ehhMmJ2Jo/exec'
        const form = document.forms['submit-to-google-sheet']
    
        form.addEventListener('submit', e => {
            e.preventDefault()
            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => $(".ratting").html('<span style="font-size: x-large; color:#181818; float:right; padding-right:10px; padding-top:20px;">Thank you for rating us !</span>'))
            .catch(error => console.error('Error!', error.message))
        });
    </script>
</html>